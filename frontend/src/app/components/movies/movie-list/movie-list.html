<div class="animate-[fadeIn_0.3s_ease-out]">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl font-bold text-pink-500">
      <svg class="inline w-8 h-8 mr-2 text-pink-500" fill="currentColor" viewBox="0 0 20 20">
        <path
          d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"
        ></path>
      </svg>
      Movies
    </h1>
    <a
      routerLink="/dashboard/movies/create"
      class="px-4 py-2 font-semibold text-white transition-colors bg-pink-500 rounded-lg shadow-lg hover:bg-pink-400"
    >
      <svg class="inline w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
          clip-rule="evenodd"
        ></path>
      </svg>
      New Movie
    </a>
  </div>

  <!-- Error Message -->
  @if (errorMessage) {
  <div class="p-4 mb-6 border border-red-500 rounded-lg bg-red-900/50">
    <p class="text-sm text-red-200">{{ errorMessage }}</p>
  </div>
  }

  <!-- Loading State -->
  @if (isLoading) {
  <div class="py-12 text-center">
    <div class="inline-block w-12 h-12 border-t-2 border-b-2 rounded-full animate-spin"></div>
    <p class="mt-4 text-gray-200">Loading movies...</p>
  </div>
  }

  <!-- Movies Grid -->
  @else if (movies.length > 0) {
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
    @for (movie of movies; track movie._id) {
    <div
      class="p-6 transition-all bg-cinema-accent border-2 shadow-2xl rounded-xl shadow-pink-500/20 border-pink-500/30 hover:border-pink-400 hover:shadow-pink-500/40"
    >
      <div class="flex flex-col h-full">
        <div class="flex-1">
          <h3 class="mb-3 text-xl font-bold text-pink-400">
            {{ movie.title }}
          </h3>
          <div class="space-y-2 text-sm text-gray-200">
            <p><span class="font-semibold">Director:</span> {{ movie.director || 'N/A' }}</p>
            <p><span class="font-semibold">Genre:</span> {{ movie.genre || 'N/A' }}</p>
            <p><span class="font-semibold">Duration:</span> {{ movie.duration }} min</p>
            <p><span class="font-semibold">Year:</span> {{ movie.release_year || 'N/A' }}</p>
          </div>
        </div>

        <div class="flex gap-3 mt-4">
          <a
            [routerLink]="['/dashboard/movies/edit', movie._id]"
            class="flex-1 px-4 py-2 font-semibold text-center text-white transition-colors bg-purple-neon border-0 rounded-lg shadow-lg hover:bg-cinema-purple"
          >
            <svg class="inline w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
              ></path>
            </svg>
          </a>
          <button
            (click)="deleteMovie(movie._id!)"
            class="flex-1 px-4 py-2 font-semibold text-white transition-colors bg-red-cinema-dark border-2 border-red-cinema rounded-lg hover:bg-red-cinema"
          >
            <svg class="inline w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                clip-rule="evenodd"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    }
  </div>
  }

  <!-- Empty State -->
  @else {
  <div class="py-12 text-center card-cinema">
    <svg class="w-16 h-16 mx-auto mb-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
      <path
        d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"
      ></path>
    </svg>
    <h3 class="mb-2 text-xl font-semibold text-gray-200">No movies registered</h3>
    <p class="mb-4 text-gray-500">Start by adding your first movie</p>
  </div>
  }
</div>
