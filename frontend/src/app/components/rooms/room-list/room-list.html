<div class="animate-[fadeIn_0.3s_ease-out]">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl font-bold text-cyan-400">
      <svg class="inline w-8 h-8 mr-2 text-cyan-400" fill="currentColor" viewBox="0 0 20 20">
        <path
          d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
        ></path>
      </svg>
      Rooms
    </h1>
    <a
      routerLink="/dashboard/rooms/create"
      class="px-4 py-2 font-semibold text-white transition-colors rounded-lg shadow-lg bg-cyan-500 hover:bg-cyan-400"
    >
      <svg class="inline w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
          clip-rule="evenodd"
        ></path>
      </svg>
      New Room
    </a>
  </div>

  <!-- Error Message -->
  @if (errorMessage) {
  <div class="p-4 mb-6 border border-red-500 rounded-lg bg-red-900/50">
    <p class="text-sm text-red-200">{{ errorMessage }}</p>
  </div>
  }

  <!-- Loading State -->
  @if (isLoading) {
  <div class="py-12 text-center">
    <div class="inline-block w-12 h-12 border-t-2 border-b-2 rounded-full animate-spin"></div>
    <p class="mt-4 text-gray-200">Loading rooms...</p>
  </div>
  }

  <!-- Rooms Grid -->
  @else if (rooms.length > 0) {
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
    @for (room of rooms; track room._id) {
    <div
      class="p-6 transition-all border-2 shadow-2xl bg-cinema-accent shadow-cyan-500/20 rounded-xl border-cyan-500/30 hover:border-cyan-400 hover:shadow-cyan-500/40"
    >
      <div class="flex flex-col h-full">
        <div class="flex-1">
          <div class="flex items-start justify-between mb-3">
            <h3 class="text-xl font-bold text-cyan-400">
              {{ room.name }}
            </h3>
            <span
              class="px-3 py-1 text-xs font-semibold border rounded-full"
              [ngClass]="getTypeClass(room.type)"
            >
              {{ room.type }}
            </span>
          </div>

          <div class="space-y-2 text-gray-200">
            <div class="flex items-center">
              <span class="text-sm font-semibold">Capacity: {{ room.capacity }} people</span>
            </div>
          </div>
        </div>

        <div class="flex gap-3 mt-4">
          <a
            [routerLink]="['/dashboard/rooms/edit', room._id]"
            class="flex items-center justify-center px-6 py-2 font-semibold text-white rounded-lg shadow-lg bg-cyan-neon hover:bg-cyan-500"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
              ></path>
            </svg>
          </a>

          <button
            (click)="deleteRoom(room._id!)"
            class="flex items-center justify-center flex-1 px-4 py-2 font-semibold text-white transition-colors border-2 rounded-lg bg-red-cinema-dark border-red-cinema hover:bg-red-cinema"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                clip-rule="evenodd"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    }
  </div>
  }

  <!-- Empty State -->
  @else {
  <div class="py-12 text-center card-cinema">
    <svg class="w-16 h-16 mx-auto mb-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
      <path
        d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
      ></path>
    </svg>
    <h3 class="mb-2 text-xl font-semibold text-gray-200">No rooms registered</h3>
    <p class="mb-4 text-gray-500">Start by adding your first room</p>
    <a
      routerLink="/dashboard/rooms/create"
      class="inline-block px-4 py-2 font-semibold text-gray-900 transition-colors bg-yellow-500 rounded-lg shadow-lg hover:bg-yellow-400"
    >
      Add Room
    </a>
  </div>
  }
</div>
